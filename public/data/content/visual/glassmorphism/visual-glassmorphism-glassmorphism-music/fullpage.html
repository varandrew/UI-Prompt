<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Glassmorphism Music Player</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>

    <!-- Background Elements for Glass Effect -->
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
    <div class="blob blob-3"></div>

    <div class="player-container">
        
        <!-- LEFT: Player Controls -->
        <div class="now-playing">
            <div class="header">
                <span>PLAYING NOW</span>
                <button class="icon-btn" title="Menu">
                    <svg viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
                </button>
            </div>

            <div class="album-art-wrapper">
                <img src="https://images.unsplash.com/photo-1493225255756-d9584f8606e9?q=80&w=400&auto=format&fit=crop" alt="Album Art" class="album-art" id="current-art">
            </div>

            <div class="track-info">
                <div class="track-name" id="current-title">Midnight Vapor</div>
                <div class="track-artist" id="current-artist">Neon Dreams</div>
            </div>

            <div class="progress-area">
                <div class="progress-bar" id="progress-container">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="time-stamps">
                    <span id="current-time">0:00</span>
                    <span id="duration">3:45</span>
                </div>
            </div>

            <div class="controls">
                <button class="control-btn btn-sm" id="prev-btn">
                    <svg viewBox="0 0 24 24"><path d="M6 6h2v12H6V6m3.5 6l8.5 6V6l-8.5 6z"></path></svg>
                </button>
                <button class="control-btn btn-lg" id="play-btn">
                    <!-- Play Icon -->
                    <svg id="play-icon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg>
                    <!-- Pause Icon (hidden by default) -->
                    <svg id="pause-icon" viewBox="0 0 24 24" style="display:none"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></svg>
                </button>
                <button class="control-btn btn-sm" id="next-btn">
                    <svg viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"></path></svg>
                </button>
            </div>
        </div>

        <!-- RIGHT: Playlist -->
        <div class="playlist-side">
            <div class="playlist-header">
                <span>Up Next</span>
                <button class="icon-btn" title="Loop">
                    <svg viewBox="0 0 24 24"><path d="M17 17H7v-3l-4 4 4 4v-3h12v-6h-2M7 7h10v3l4-4-4-4v3H5v6h2V7z"></path></svg>
                </button>
            </div>
            
            <ul class="track-list" id="playlist-container">
                <!-- Javascript will populate this -->
            </ul>
        </div>
    </div>

    <script>
        // Data for the music player
        const tracks = [
            {
                title: "Midnight Vapor",
                artist: "Neon Dreams",
                cover: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?q=80&w=400&auto=format&fit=crop",
                duration: "3:45"
            },
            {
                title: "Glass Horizons",
                artist: "Aero Chord",
                cover: "https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?q=80&w=400&auto=format&fit=crop",
                duration: "4:12"
            },
            {
                title: "Deep Ocean",
                artist: "Blue Echo",
                cover: "https://images.unsplash.com/photo-1469334031218-e382a71b716b?q=80&w=400&auto=format&fit=crop",
                duration: "2:58"
            },
            {
                title: "Urban Silence",
                artist: "The City Lights",
                cover: "https://images.unsplash.com/photo-1514525253440-b393452e8d26?q=80&w=400&auto=format&fit=crop",
                duration: "3:30"
            },
            {
                title: "Frosted Lens",
                artist: "Crystal Vision",
                cover: "https://images.unsplash.com/photo-1484589065579-248aad0d8b13?q=80&w=400&auto=format&fit=crop",
                duration: "3:15"
            }
        ];

        // State Variables
        let isPlaying = false;
        let currentTrackIndex = 0;
        let currentTime = 0;
        let intervalId;
        
        // DOM Elements
        const playBtn = document.getElementById('play-btn');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const playlistContainer = document.getElementById('playlist-container');
        const albumArt = document.getElementById('current-art');
        const trackTitle = document.getElementById('current-title');
        const trackArtist = document.getElementById('current-artist');
        const progressBar = document.getElementById('progress-fill');
        const progressContainer = document.getElementById('progress-container');
        const timeDisplay = document.getElementById('current-time');
        const durationDisplay = document.getElementById('duration');

        // Helper: Convert "3:45" to seconds
        function parseDuration(str) {
            const parts = str.split(':');
            return parseInt(parts[0]) * 60 + parseInt(parts[1]);
        }

        // Helper: Format seconds to "3:45"
        function formatTime(seconds) {
            const m = Math.floor(seconds / 60);
            const s = Math.floor(seconds % 60);
            return `${m}:${s < 10 ? '0' : ''}${s}`;
        }

        // Initialize Playlist UI
        function renderPlaylist() {
            playlistContainer.innerHTML = '';
            tracks.forEach((track, index) => {
                const li = document.createElement('li');
                li.className = `track-item ${index === currentTrackIndex ? 'active' : ''}`;
                li.onclick = () => loadTrack(index);
                
                li.innerHTML = `
                    <img src="${track.cover}" class="track-item-img" alt="cover">
                    <div class="track-item-info">
                        <span class="t-title">${track.title}</span>
                        <span class="t-artist">${track.artist}</span>
                    </div>
                    <div class="equalizer-icon">
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                    </div>
                `;
                playlistContainer.appendChild(li);
            });
        }

        // Load Track Data
        function loadTrack(index) {
            // Stop previous timer
            clearInterval(intervalId);
            currentTime = 0;
            updateProgressUI();

            currentTrackIndex = index;
            const track = tracks[index];

            // Update Text & Images
            trackTitle.innerText = track.title;
            trackArtist.innerText = track.artist;
            albumArt.src = track.cover;
            durationDisplay.innerText = track.duration;

            // Re-render playlist to show active state
            renderPlaylist();

            // If it was playing, keep playing
            if (isPlaying) {
                playSimulatedAudio();
            } else {
                pauseSimulatedAudio();
            }
        }

        // Simulate Playing (Since we don't have real audio files)
        function playSimulatedAudio() {
            isPlaying = true;
            playIcon.style.display = 'none';
            pauseIcon.style.display = 'block';
            albumArt.classList.add('playing');
            
            // Animation Loop
            clearInterval(intervalId);
            const totalSeconds = parseDuration(tracks[currentTrackIndex].duration);
            
            intervalId = setInterval(() => {
                if(currentTime >= totalSeconds) {
                    nextTrack();
                } else {
                    currentTime++;
                    updateProgressUI();
                }
            }, 1000);
        }

        function pauseSimulatedAudio() {
            isPlaying = false;
            playIcon.style.display = 'block';
            pauseIcon.style.display = 'none';
            albumArt.classList.remove('playing');
            clearInterval(intervalId);
        }

        function togglePlay() {
            if (isPlaying) pauseSimulatedAudio();
            else playSimulatedAudio();
        }

        function updateProgressUI() {
            const totalSeconds = parseDuration(tracks[currentTrackIndex].duration);
            const percent = (currentTime / totalSeconds) * 100;
            progressBar.style.width = `${percent}%`;
            timeDisplay.innerText = formatTime(currentTime);
        }

        function nextTrack() {
            let nextIndex = currentTrackIndex + 1;
            if (nextIndex >= tracks.length) nextIndex = 0;
            loadTrack(nextIndex);
            playSimulatedAudio();
        }

        function prevTrack() {
            let prevIndex = currentTrackIndex - 1;
            if (prevIndex < 0) prevIndex = tracks.length - 1;
            loadTrack(prevIndex);
            playSimulatedAudio();
        }

        // Interactive Progress Bar (Click to seek)
        progressContainer.addEventListener('click', (e) => {
            const width = progressContainer.clientWidth;
            const clickX = e.offsetX;
            const totalSeconds = parseDuration(tracks[currentTrackIndex].duration);
            
            currentTime = Math.floor((clickX / width) * totalSeconds);
            updateProgressUI();
            if(isPlaying) {
                // Restart interval to sync better
                clearInterval(intervalId);
                playSimulatedAudio();
            }
        });

        // Event Listeners
        playBtn.addEventListener('click', togglePlay);
        nextBtn.addEventListener('click', nextTrack);
        prevBtn.addEventListener('click', prevTrack);

        // Initial Load
        loadTrack(0);
        pauseSimulatedAudio(); // Start paused

    </script>
</body>
</html>