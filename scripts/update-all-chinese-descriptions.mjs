import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __dirname = path.dirname(fileURLToPath(import.meta.url));

const CHINESE_DESCRIPTIONS = {
  'brutalism': '粗野主義設計風格，採用大膽排版、高度對比和原始美學，刻意打破傳統設計慣例。透過鮮明視覺、非常規佈局和勇敢的排版創造強力、富有表現力的介面。適合前衛項目和藝術應用，提供獨特的視覺語言，結合美學原理與功能性設計元素。',

  'flatDesign': '簡潔高效的扁平設計系統，無陰影或漸變，強調內容優先和簡潔美學。通過極簡佈局、清晰排版和必要元素的精心選擇創造現代化介面。適合當代應用和用戶友好的設計，體現"少即是多"的哲學。',

  'fluent2': '微軟最新設計系統，展現Acrylic和Mica材質的現代玻璃態效果。融合當代美學與功能設計，創造精緻洗練的用戶體驗。具有現代化材質設計和精約優雅的視覺語言。',

  'memphis': '1980年代義大利設計運動，以大膽色彩、幾何形狀和非對稱佈局為特色。透過充滿活力的構圖和大膽圖案創造活潑、富有表現力的介面。適合創意專案和視覺故事講述。',

  'minimalism': '"少即是多"設計哲學，強調留白、簡潔排版和本質元素。透過極簡風格和簡潔構圖建立優雅介面。創造注重內容和用戶體驗的現代設計。',

  'scrollNarrative': '滾動驅動的敘事設計，採用視差效果和滾動互動講述沉浸式故事。通過動態視覺和互動元素創造引人入勝的用戶體驗。適合敘事驅動的內容和創意呈現。',

  'skeuomorphism': '擬態設計，模擬真實世界的紋理、陰影和材質創造逼真數字介面。使用深色調、陰影和3D效果增強視覺深度。適合需要直觀操作和觸覺反饋的應用。',

  'typography': '排版主導的設計風格，文字本身的視覺表現傳達信息和情感。強調排版的表現力和設計性，創造引人注目的視覺語言。適合專注內容的應用。',

  'mouseTracking': '聚焦於滑鼠追蹤效果的互動設計，突出遊標跟隨回應和發光反饋。創造互動式介面，強調用戶與界面的實時互動和視覺反應。',

  'magazine': '經典雜誌排版風格，受印刷雜誌啟發，採用多欄佈局、首字放大和襯線排版。創造編輯專業風格，適合內容豐富的應用。',

  '3dElements': '三維設計元素，具有深度、陰影和透視效果，創造逼真視覺。通過三維表現形成立體感和真實感。適合視覺豐富的應用。',

  'accessibility': '無障礙UI設計，強調色彩對比、清晰視覺層級和鍵盤友好的互動。創造包容性設計，確保所有用戶都能便捷使用。',

  'ambient': '柔和光晕搭配径向模糊和氛围渲染，营造出精美的环境光照效果和精致的视觉深度。通过漫射光、圆润边角和梦幻视觉氛围创建宁静冥想的界面。',

  'antiDesign': '大膽實驗的風格，打破設計規則並拒絕既定慣例。創造富有挑戰性的設計，展現叛逆創意和非傳統美學。',

  'auroraGlass': '極光色彩搭配動態光影和流動透明，創造夢幻視覺效果。採用彩虹色漸變和玻璃態效果營造魔幻氛圍。適合幻想應用和優雅品牌。',

  'bentoGrids': '便當盒風格的網格佈局，支持不同尺寸的卡片和現代組織方法。創造靈活的版面，適合內容多樣化的應用。',

  'biophilic': '生物親和設計風格，適合健康、環保和生活方式相關應用。強調自然元素，促進健康和環保意識。',

  'blueprint': '技術藍圖風格的介面設計，採用工程繪圖美學。展現嚴謹的結構化佈局和專業技術氛圍。適合工程和技術應用。',

  'claymorphism': '黏土質地設計風格，適合創意設計、插圖風格和創意應用。採用柔和雕塑美學和創意表現。',

  'comicBook': '經典美式漫畫風格，採用分格佈局、動作線條和對話氣泡。使用半色調點陣和漫畫視覺語言創造動態敘事。',

  'darkMode': '深色模式設計，採用深色色調和高對比度創造舒適視覺。提供眼睛友好的深色美學和精細的視覺平衡。',

  'duotone': '雙色調色彩方案，使用兩種對比色創造戲劇性視覺效果。通過大膽對比和動態構圖實現視覺衝擊。',

  'fabric': '織物紋理設計，採用布料紋理和交錯效果。創造觸覺感和真實感，展現材質特性。',

  'generativeArt': '生成藝術設計，採用演算法創建圖案、粒子和動態視覺。創造動態視覺和互動藝術體驗。',

  'glassmorphism': '玻璃態設計風格，採用毛玻璃效果和背景模糊。創造現代透明介面，展現精緻視覺層級。',

  'glow': '盒陰影發光效果，搭配脈衝動畫和呼吸效果。創造發光粒子系統視覺，展現動態光線互動。',

  'gradients': '充滿活力的漸變設計，採用平滑色彩過渡和現代美學。提供色彩動態演變和視覺深度。',

  'grain': 'SVG雜訊效果，採用膠片紋理和復古風格。創造復古真實性和懷舊視覺特性。',

  'handDrawnSketch': '手繪風格，採用手寫字體、SVG濾鏡和隨意線條。創造溫暖親切的視覺體驗，展現藝術表現和創意。',

  'holographic': '彩虹光譜搭配動態色調旋轉和未來感。創造動態視覺效果和全息氛圍。',

  'holographicFoil': '全息箔紙效果，採用彩虹色和虹彩色調。創造反射表面特性和彩虹色位移效果。',

  'industrial': '工業設計風格，適合技術產品和專業工具。強調功能性和實用主義美學，採用深色調和機械元素。',

  'inkWash': '傳統中國水墨畫啟發的設計風格，採用水墨漸變和有意義的構圖。結合傳統美學與當代數位設計。',

  'kawaiiMinimal': '可愛最小化設計，採用萌系可愛元素和最小化美學。創造可愛友好的介面，結合簡潔性與趣味性。',

  'leather': '深色皮革面板風格，採用徑向漸變和皺紋紋理。通過皮革特性營造厚重奢華的視覺體驗。',

  'light': '霓虹、環境和聚光燈效果，透過多層陰影和發光效果。建構發光效果和閃耀光線互動。',

  'liminalSpace': '空靈過渡空間設計，代表兩個狀態之間的存在。創造不安定但引人思考的氛圍。',

  'liquid': '流動動畫搭配徑向漸變和模糊混合。創造液體視覺效果和形態變化的視覺轉換。',

  'monochrome': '單色設計，僅使用黑、白和灰色創造優雅介面。通過灰度實現永恆優雅和精緻的視覺平衡。',

  'natural': '自然和有機設計，採用大地色調和植物元素。展現自然溫暖和有機視覺特性。',

  'nature': '自然啟發的視覺效果系列，採用極光、波浪、粒子和液體。創造沉浸式自然視覺體驗。',

  'neoBrutalism': '當代粗野主義，採用高對比、粗體邊框和鮮豔霓虹色。融合數位原始性和當代大膽風格。',

  'neon': '多層文字陰影搭配電子效果和閃爍動畫。創造強烈霓虹發光效果和高能視覺。',

  'neonCyberpunk': '霓虹賽博朋克設計，採用鮮豔霓虹色和深色背景。創造未來感紫紅色調和數位反叛精神。',

  'neonNoir': '霓虹黑色電影風格，融合賽博朋克美學和電影黑色調。創造神秘氛圍和緊張感。',

  'organic': '自然有機設計風格，採用流動動畫和溫暖大地色調。展現生物形態形狀和有機美學。',

  'outlineStyle': '線條輪廓設計風格，透過線條定義形狀強調最小化和清晰視覺層級。創造簡潔線條藝術風格。',

  'paperCutout': '紙張剪裁設計風格，採用分層元素和陰影創造立體剪紙效果。展現精緻分層構圖。',

  'particle': '小點搭配發光效果和隨機浮動，創造粒子系統視覺。生成動態粒子效果和互動視覺系統。',

  'popArt': '流行藝術風格，採用鮮豔對比色和大膽設計。創造充滿活力和文化藝術性的視覺表達。',

  'scandi': '北歐設計哲學，採用最小化美學和自然原始材質。強調功能性和永恆簡潔美。',

  'sciFiHud': '科幻抬頭顯示器風格，適合數據視覺化和系統監控。展現先進技術氛圍和未來感。',

  'smoke': '徑向漸變搭配極端模糊和緩慢上升，創造煙霧視覺效果。生成氣態大氣效果和視覺神秘感。',

  'soft-ui': '柔和圓角與陰影過渡的介面風格，強調順滑過渡與親和力。創造友善舒適的介面和溫暖視覺體驗。',

  'softUI': '柔和、圓角介面設計搭配溫和陰影和平滑過渡。強調舒適親和力和溫暖體驗。',

  'solarpunk': '陽光朋克風格，融合生態烏托邦和樂觀未來願景。展現永續未來和環保科技美學。',

  'spotlight': '移動徑向光，焦點照明和舞台效果，創造戲劇性視覺注意。產生戲劇性聚光燈效果和焦點突出。',

  'utilityFirst': '功能優先的設計哲學，最小化自訂CSS並聚焦功能構圖和復用。強調實用效率和快速開發。',

  'vaporwave': '80年代電腦美學與網路藝術融合，採用霓虹漸變和全寬。創造實驗性網路藝術和數位超現實主義。',

  'wabiSabi': '侘寂設計哲學，擁抱不完美和自然美與精緻最小化美學。展現精緻真實性和完美缺陷。',

  'y2k': '千禧年設計美學，採用玻璃態、氣泡裝飾和青藍漸變。展現千禧年懷舊和趣味數位美學。',

  'arcadeCRT': 'CRT監視器掃描線效果，採用霓虹發光和RGB色差。創造真實復古街機視覺和懷舊氛圍。',

  'artDeco': '1920-1930年代奢華風格，採用幾何圖案和金色裝飾。展現對稱構圖和華麗裝飾美學。',

  'bauhaus': '1919年德國包豪斯學派的設計風格，強調幾何形態和功能。展現幾何精確度和功能現代主義。',

  'darkAcademia': '古典圖書館美學，採用深色調、羊皮紙紋理和燭光氛圍。創造學術精緻感和歷史氛圍。',

  'digitalRetro': '80-90年代電腦圖形融合現代設計敏感性。結合懷舊數位遺產和當代美學。',

  'newspaper': '傳統報紙佈局技巧，採用首字放大、多欄網格和襯線排版。創造編輯專業風格和出版設計。',

  'retroFuturism': '1980年代復古未來主義數位美學，由早期電腦終端和科幻電影啟發。展現懷舊未來感和數位時間旅行美學。',

  'retroOS': '經典Windows 95/98時代圖形用戶介面設計，完美重現視覺語言。展現懷舊電腦介面和復古數位魅力。',

  'steampunk': '復古科幻風格，融合維多利亞時代美學和蒸汽動力機械。採用黃銅元素和機械複雜感。',

  'swissDesign': '現代主義網格系統，採用Helvetica排版和最小色調。強調網格精確度和數學優雅。',

  'synthwave': '80年代復古未來美學融合霓虹色、網格地平線和幾何。創造復古未來懷舊感和夜間夢幻美學。',

  'vhsAesthetic': 'VHS錄像帶視覺美學，採用掃描線和色彩偏移效果。創造懷舊類比感和復古視頻特性。',

  'filmNoir': '電影黑色美學，採用高對比黑白和陰影構圖。展現電影黑色神秘氛圍。',

  'frutigerAero': '蘋果Aqua設計美學，採用圓潤透光元素。展現蘋果透光玻璃質感和輕盈優雅。',

  'midCenturyModern': '中世紀現代設計，採用簡潔線條和有機形狀。展現經典現代主義和時代優雅。',

  'popArtStyle': '流行藝術風格，採用鮮豔色彩和大膽圖案。創造視覺衝擊和藝術表現。',

  'layoutStyles': '靈活的版面佈局支持不同高度的卡片，創造動態視覺節奏。提供現代組織方法。'
};

const stylesDir = path.join(__dirname, '../src/data/styles/generated');
const updated = [];

function scanAndUpdate(dir) {
  const entries = fs.readdirSync(dir);

  for (const entry of entries) {
    const fullPath = path.join(dir, entry);
    const stat = fs.statSync(fullPath);

    if (stat.isDirectory()) {
      scanAndUpdate(fullPath);
    } else if (entry === 'manifest.json') {
      const content = JSON.parse(fs.readFileSync(fullPath, 'utf-8'));
      const familyId = path.basename(path.dirname(fullPath));
      const zhDesc = content.family?.description?.['zh-CN'] || '';

      // If Chinese description is too short, update it
      if (!zhDesc || zhDesc.length < 60) {
        const newZhDesc = CHINESE_DESCRIPTIONS[familyId];
        if (newZhDesc) {
          content.family.description['zh-CN'] = newZhDesc;
          fs.writeFileSync(fullPath, JSON.stringify(content, null, 2) + '\n');

          updated.push({
            file: familyId,
            oldLength: zhDesc.length,
            newLength: newZhDesc.length
          });
        }
      }
    }
  }
}

console.log('\n═══════════════════════════════════════════════');
console.log('🌐 UPDATING ALL CHINESE DESCRIPTIONS');
console.log('═══════════════════════════════════════════════\n');

scanAndUpdate(stylesDir);

console.log('✅ Updated ' + updated.length + ' descriptions:\n');

updated.forEach((item, i) => {
  console.log((i + 1) + '. ' + item.file);
  console.log('   ' + item.oldLength + ' → ' + item.newLength + ' chars (+' + (item.newLength - item.oldLength) + ')');
});

console.log('\n═══════════════════════════════════════════════');
console.log('✅ Chinese descriptions updated successfully!');
console.log('═══════════════════════════════════════════════\n');
